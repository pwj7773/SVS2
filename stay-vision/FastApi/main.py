# Package Import
from fastapi import FastAPI
import uvicorn
from pydantic import BaseModel
from starlette.responses import JSONResponse

import pickle
import numpy as np
import pandas as pd

# Request Body
class Item(BaseModel) :
    platform: str
    name: str
    address: str
    room: str
    checkIn: str
    checkOut: str

app = FastAPI()

@app.post(path="/items", status_code=201)
def myiris(item: Item) :
    # pickle 파일 로딩
    with open('data.pickle', 'rb') as f:
        detail = {
                 '공작 (애견동반 가능객실)': '2인실,화장실,침대방',
                 '백로(애견동반 가능객실)': '화장실,침대방,원룸형,2인실',
                 '십자매(애견동반 가능객실)': '침대방,원룸형,2인실,화장실',
                 '잉꼬(애견동반 가능객실)': '원룸형,침대방,화장실,2인실',
                 '국화(애견동반 가능객실)': '원룸형,온돌방,화장실,가족실',
                 '목련(애견동반 가능객실)': '원룸형,가족실,온돌방,화장실',
                 '장미(애견동반 가능객실)': '가족실,온돌방,화장실',
                 '수선화(애견동반 가능객실)': '가족실,온돌방,화장실,원룸형',
                 '라일락(애견동반 가능객실)': '온돌방,단체,가족실,화장실',
                 '원앙(애견동반 가능객실)': '가족실,온돌방,단체,화장실',
                 '작은별': '단체,온돌방,가족실,화장실',
                 '샛별': '온돌방,단체,화장실,가족실',
                 '매화(애견동반 가능객실)': '단체,온돌방,침대방,가족실',
                 '큰별': '단체,복층,화장실,온돌방',
                 '봉황(애견동반 가능객실)': '단체,복층,화장실,온돌방',
                 '로얄별': '단체,복층,온돌방,침대방,화장실',
                 '초코풀빌라1': '풀빌라,펜션,개별바베큐,잔디',
                 '초코풀빌라2': '풀빌라,펜션,개별바베큐,잔디',
                 '초코풀빌라3': '풀빌라,개별바베큐,펜션,잔디',
                 '초코풀빌라4': '풀빌라,잔디,개별바베큐',
                 '코코풀빌라1': '풀빌라,펜션,침대방,개별바베큐,취사가능,더블베드,화장실,싱글베드',
                 '코코풀빌라2': '풀빌라,침대방,펜션,개별바베큐,더블베드,싱글베드,화장실,취사가능',
                 '코코풀빌라3': '풀빌라,침대방,펜션,개별바베큐,화장실,취사가능,더블베드,싱글베드',
                 '코코풀빌라4': '풀빌라,침대방,펜션,개별바베큐,취사가능,더블베드,싱글베드,화장실',
                 '코코풀빌라5': '풀빌라,침대방,펜션,개별바베큐,화장실,취사가능,더블베드,싱글베드',
                 '코코풀빌라6': '풀빌라,침대방,펜션,개별바베큐,취사가능,화장실,싱글베드,더블베드',
                 '샤샤풀빌라1': '풀빌라,침대방,펜션,개별바베큐,취사가능,더블베드,싱글베드,화장실',
                 '샤샤풀빌라2': '풀빌라,침대방,펜션,화장실,개별바베큐,취사가능,더블베드,싱글베드',
                 '샤샤풀빌라3': '풀빌라,침대방,펜션,개별바베큐,취사가능,더블베드,싱글베드,화장실',
                 '샤샤풀빌라4': '풀빌라,침대방,펜션,개별바베큐,취사가능,화장실,더블베드,싱글베드',
                 '샤샤풀빌라5': '풀빌라,침대방,펜션,개별바베큐,화장실,취사가능,더블베드,싱글베드',
                 '샤샤풀빌라6': '풀빌라,침대방,펜션,개별바베큐,화장실,취사가능,더블베드,싱글베드',
                 'A-101': '풀빌라,침대방,펜션,단체,월풀/스파,개별바베큐,화장실,오션뷰,테라스',
                 'A-201': '풀빌라,침대방,펜션,월풀/스파,개별바베큐,화장실,오션뷰,테라스',
                 'A-301': '풀빌라,복층,침대방,펜션,개별바베큐,월풀/스파,화장실,오션뷰,테라스',
                 'B-101': '풀빌라,펜션,침대방,월풀/스파,개별바베큐,오션뷰,화장실,테라스',
                 'B-201': '풀빌라,침대방,펜션,월풀/스파,개별바베큐,오션뷰,화장실,테라스',
                 'B-301': '풀빌라,침대방,복층,펜션,월풀/스파,개별바베큐,화장실,오션뷰,테라스',
                 '9동': '풀빌라,독채,단체,침대방,펜션,글램핑,잔디,가족실,개별바베큐,화장실,테라스,취사가능,트윈베드,VOD,더블베드',
                 '10동': '풀빌라,독채,단체,펜션,침대방,글램핑,가족실,개별바베큐,화장실,취사가능,테라스,VOD,더블베드,트윈베드,데크',
                 '쿠키방': '풀빌라,독채,침대방,온돌방,개별바베큐,취사가능,테라스,화장실,펜션',
                 '마린방': '풀빌라,침대방,펜션,데크,화장실,개별바베큐',
                 '스타방': '풀빌라,침대방,펜션,데크,화장실,개별바베큐',
                 '스위트방': '풀빌라,펜션,데크,화장실,개별바베큐',
                 '아이스크림방': '풀빌라,침대방,펜션,데크,화장실,개별바베큐',
                 '로켓방': '풀빌라,펜션,데크,화장실,개별바베큐',
                 '포레방': '풀빌라,독채,침대방,펜션,개별바베큐,취사가능,화장실',
                 '산호방': '풀빌라,펜션,데크,개별바베큐,화장실',
                 '정글방': '풀빌라,독채,온돌방,침대방,펜션,개별바베큐,화장실,테라스,취사가능',
                 '레드밀방': '풀빌라,침대방,펜션,개별바베큐',
                 '옐로우핑크방': '풀빌라,침대방,펜션,데크,개별바베큐,화장실',
                 '서핑방': '풀빌라,펜션,데크,화장실,개별바베큐',
                 '도넛방': '풀빌라,침대방,펜션,방갈로,데크,화장실,개별바베큐',
                 '유니콘방': '풀빌라,침대방,개별바베큐,취사가능,화장실,펜션',
                 '당근방': '풀빌라,침대방,개별바베큐,화장실,펜션,데크',
                 '원더풀 수영장카라반1(랜덤배정)': '풀빌라,독채,원룸형,침대방,카라반,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드,취사가능',
                 '원더풀 수영장카라반2(랜덤배정)': '풀빌라,독채,원룸형,침대방,카라반,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드,취사가능',
                 '원더풀 수영장카라반3(랜덤배정)': '풀빌라,독채,원룸형,침대방,카라반,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드,취사가능',
                 '원더풀 수영장카라반4(랜덤배정)': '풀빌라,독채,원룸형,침대방,카라반,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드,취사가능',
                 '원더풀 수영장카라반5(랜덤배정)': '풀빌라,독채,원룸형,침대방,카라반,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드,취사가능',
                 '원더풀 일반카라반1(랜덤배정)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,카라반,글램핑,잔디,데크,남녀공용,여성전용,2인실,남성전용,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '원더풀 일반카라반2(랜덤배정)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,카라반,글램핑,잔디,데크,남녀공용,여성전용,2인실,남성전용,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '원더풀 일반카라반3(랜덤배정)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,카라반,글램핑,잔디,데크,남녀공용,여성전용,2인실,남성전용,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '원더풀 일반카라반4(랜덤배정)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,카라반,글램핑,잔디,데크,남녀공용,여성전용,2인실,남성전용,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '원더풀 일반카라반5(랜덤배정)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,카라반,글램핑,잔디,데크,남녀공용,여성전용,2인실,남성전용,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '원더풀 글램핑1(랜덤배정)': '단체,복층,온돌방,펜션,글램핑,원룸형,침대방,카라반,데크,여성전용,남성전용,남녀공용,2인실,가족실,개별바베큐,화장실,오션뷰,테라스,취사가능,더블베드',
                 '원더풀 글램핑2(랜덤배정)': '단체,복층,온돌방,펜션,글램핑,원룸형,침대방,카라반,데크,여성전용,남성전용,남녀공용,2인실,가족실,개별바베큐,화장실,오션뷰,테라스,취사가능,더블베드',
                 'A 101호': '풀빌라,침대방,펜션,단체,화장실,테라스,개별바베큐,더블베드',
                 'A 201호': '풀빌라,단체,침대방,펜션,화장실,테라스,개별바베큐',
                 'B 102호': '풀빌라,단체,침대방,펜션,개별바베큐,화장실,테라스,트윈베드',
                 'B 103호': '단체,풀빌라,침대방,펜션,화장실,개별바베큐,테라스',
                 'B 202호': '풀빌라,단체,침대방,펜션,화장실,개별바베큐,테라스',
                 'B 203호': '풀빌라,침대방,펜션,화장실,테라스,개별바베큐',
                 '풀램 A타입': '풀빌라,침대방,복층,펜션,개별바베큐,화장실,테라스',
                 '풀램 B타입': '풀빌라,침대방,펜션,복층,월풀/스파,화장실,테라스,개별바베큐',
                 '풀램 C타입': '풀빌라,침대방,복층,펜션,개별바베큐,화장실,테라스',
                 '루나키즈바베큐1': '2인실,남성전용,취사가능',
                 '루나키즈바베큐2': '한옥,취사가능,마사토',
                 '루나키즈바베큐3': '카라반,테라스',
                 '키즈풀빌라 1호 (독채)': '풀빌라,단체,독채,복층,침대방,펜션,개별바베큐,화장실,취사가능,더블베드',
                 '키즈풀빌라 2호': '풀빌라,단체,침대방,펜션,가족실,개별바베큐,화장실,취사가능,더블베드,싱글베드',
                 '키즈풀빌라 3호': '풀빌라,단체,침대방,펜션,개별바베큐,화장실,취사가능,더블베드',
                 '키즈풀빌라 4호': '풀빌라,단체,침대방,펜션,개별바베큐,화장실,취사가능,더블베드',
                 '키즈풀빌라 5호': '풀빌라,단체,침대방,펜션,화장실,개별바베큐,취사가능,더블베드',
                 '키즈풀빌라 6호 (독채)': '풀빌라,독채,단체,복층,침대방,펜션,개별바베큐,화장실,취사가능,더블베드',
                 '해적선[침실3+화장실2] 오후3시입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,테라스,더블베드,싱글베드,취사가능',
                 '산호방[침실3+화장실2]   오후1시입실 오전10시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,테라스,더블베드,싱글베드,취사가능',
                 '팩토리[침실2+화장실2]오후1시입실 오전10시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,테라스,더블베드,싱글베드,취사가능',
                 '스위트홈[침실2+화장실2]오후3시 입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,더블베드,싱글베드,취사가능',
                 '핑크밀[침실2+화장실2]오후3시입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,더블베드,싱글베드,취사가능',
                 '쿠키방[침실2+화장실1]오후3시입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,더블베드,싱글베드,취사가능',
                 '롤러코스터[침실2+화장실1]오후3시입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,더블베드,싱글베드,취사가능',
                 '기차[침실2+화장실1]오후3시입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,더블베드,싱글베드,취사가능',
                 '아이스크림[침실2+화장실1]오후3시입실오전11시퇴실': '풀빌라,단체,침대방,펜션,파티룸,가족실,개별바베큐,화장실,더블베드,싱글베드,취사가능',
                 '애견동반독채삐삐풀램핑1(랜덤배정 평일특가 조식제공)': '풀빌라,독채,원룸형,개별바베큐,잔디,가족실,더블베드,글램핑,펜션',
                 '애견동반독채삐삐풀램핑2(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '독채삐삐풀램핑1(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '독채삐삐풀램핑2(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '독채삐삐풀램핑3(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '독채삐삐풀램핑4(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '독채삐삐풀램핑5(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '독채삐삐풀램핑6(랜덤배정 평일특가 조식제공)': '풀빌라,독채,단체,원룸형,침대방,온돌방,펜션,글램핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '삐삐바베큐': '개별바베큐',
                 '풀빌라디럭스': '침대방,펜션,독채,화장실,테라스,개별바베큐,풀빌라',
                 '롯지캠프A': '펜션,침대방,개별바베큐,화장실,테라스',
                 '롯지캠프B': '펜션,침대방,개별바베큐,화장실,테라스',
                 '롯지캠프C': '펜션,침대방,개별바베큐,화장실,테라스',
                 '롯지캠프D': '펜션,침대방,화장실,테라스,개별바베큐',
                 '컨템포러리': '펜션,침대방,월풀/스파,개별바베큐,화장실,테라스',
                 '노르딕 (애견가능)': '펜션,침대방,월풀/스파,개별바베큐,화장실,테라스',
                 '레트로': '펜션,침대방,월풀/스파,개별바베큐,화장실,테라스,더블베드',
                 '다다오': '펜션,침대방,월풀/스파,개별바베큐,화장실,테라스',
                 '파티오 (애견가능)': '펜션,침대방,월풀/스파,개별바베큐,화장실,테라스',
                 '티파니 (애견가능)': '펜션,침대방,월풀/스파,개별바베큐,화장실,테라스',
                 '오드리 (애견가능)': '펜션,침대방,월풀/스파,화장실,개별바베큐,테라스',
                 'A101 (공룡)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'A102(자동차)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'A103(마린)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'A201(아이스크림)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'A202(캐슬)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'B104(자동차)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'B105(마린)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'B106(공룡)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'B203(아이스크림)': '침대방,화장실,테라스,개별바베큐,풀빌라,펜션',
                 'B204(캐슬)': '침대방,화장실,풀빌라,테라스,개별바베큐,펜션',
                 'A 101 (침실2 화장실2 실내수영장 스파)': '풀빌라,월풀/스파,개별바베큐,오션뷰,화장실,더블베드,취사가능,레이트 체크아웃',
                 'A 201 (침실2 화장실2 실내수영장)': '풀빌라,레이트 체크아웃,개별바베큐,오션뷰,화장실,취사가능,더블베드',
                 'A 301 (침실2 화장실2 루프탑수영장 스파)': '풀빌라,복층,월풀/스파,개별바베큐,화장실,오션뷰,더블베드',
                 'D 101 (침대1 실내수영장)': '풀빌라,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 'D 102 ( 침대1 실내수영장)': '풀빌라,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 'D 201 (침대1 실내수영장)': '풀빌라,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 'D 202 (침대1 실내수영장)': '풀빌라,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 'D301 (침대1 루프탑수영장)': '풀빌라,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 'D302 (침대1 루프탑수영장)': '풀빌라,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 '101호': '풀빌라,침대방,개별바베큐,화장실',
                 '102호': '풀빌라,침대방,개별바베큐,화장실',
                 '201호': '풀빌라,침대방,개별바베큐,화장실',
                 '202호': '풀빌라,침대방,개별바베큐,화장실',
                 '글램핑A': '풀빌라,복층,침대방,개별바베큐,화장실',
                 '글램핑B': '풀빌라,복층,펜션,개별바베큐,화장실',
                 '조이키즈룸': '풀빌라,단체,침대방,펜션,가족실,개별바베큐,화장실,취사가능,더블베드',
                 '쿠키키즈룸': '풀빌라,단체,침대방,펜션,가족실,개별바베큐,화장실,취사가능,더블베드',
                 '토이키즈룸': '풀빌라,단체,침대방,펜션,가족실,개별바베큐,화장실,테라스,취사가능,더블베드',
                 '퍼피키즈룸': '풀빌라,단체,침대방,펜션,가족실,개별바베큐,화장실,취사가능,더블베드',
                 '우디키즈룸': '풀빌라,독채,복층,원룸형,침대방,펜션,데크,가족실,개별바베큐,화장실,취사가능,더블베드',
                 '201 츠키 (POOL, 히노끼)': '풀빌라,복층,펜션,월풀/스파,개별바베큐,오션뷰,화장실,테라스,침대방,취사가능,더블베드',
                 '202 히카리 (자쿠지)': '월풀/스파,개별바베큐,화장실,테라스,오션뷰,침대방,펜션,복층,취사가능,더블베드,트윈베드',
                 '203 호시 (POOL, 히노끼)': '풀빌라,침대방,펜션,월풀/스파,개별바베큐,화장실,오션뷰,테라스,복층,취사가능,더블베드',
                 '301 (스파, 더블트윈)': '펜션,침대방,월풀/스파,개별바베큐,화장실,오션뷰,테라스',
                 '401 (스파, 복층)': '침대방,펜션,복층,월풀/스파,개별바베큐,화장실,오션뷰,테라스,취사가능,더블베드',
                 '402 (스파, 복층)': '복층,침대방,펜션,월풀/스파,개별바베큐,화장실,오션뷰,테라스,취사가능,더블베드',
                 '101 (더블)': '침대방,펜션,데크,남녀공용,개별바베큐,화장실,오션뷰,취사가능,더블베드',
                 'C 럭셔리 일반 (오션뷰)': '펜션,카라반,풀빌라,단체,원룸형,침대방,글램핑,잔디,데크,파티룸,남성전용,여성전용,남녀공용,도미토리,가족실,2인실,얼리 체크인,레이트 체크아웃,개별바베큐,월풀/스파,화장실,오션뷰,취사가능,더블베드,트윈베드,싱글베드',
                 'E 럭셔리 감성 (오션뷰)': '독채,원룸형,침대방,카라반,파티룸,남성전용,여성전용,남녀공용,가족실,2인실,얼리 체크인,레이트 체크아웃,개별바베큐,오션뷰,화장실,취사가능,테라스,더블베드,싱글베드',
                 'A 럭셔리 일반 (오션뷰)': '펜션,카라반,오션뷰,개별바베큐,취사가능,화장실,테라스,트윈베드,더블베드,싱글베드,풀빌라,원룸형,침대방,글램핑,데크,파티룸,남성전용,여성전용,남녀공용,가족실,2인실,얼리 체크인,레이트 체크아웃',
                 'D 럭셔리 스파 (오션뷰)': '독채,원룸형,침대방,카라반,데크,파티룸,남성전용,여성전용,남녀공용,2인실,얼리 체크인,레이트 체크아웃,가족실,월풀/스파,개별바베큐,오션뷰,화장실,테라스,취사가능,싱글베드,더블베드',
                 'B 럭셔리 일반 (오션뷰)': '펜션,카라반,풀빌라,단체,원룸형,침대방,글램핑,오토캠핑,데크,여성전용,남성전용,남녀공용,2인실,가족실,레이트 체크아웃,얼리 체크인,개별바베큐,화장실,오션뷰,취사가능,더블베드,트윈베드,싱글베드'}       
        
        
        count={'공작 (애견동반 가능객실)': '4',
         '백로(애견동반 가능객실)': '4',
         '십자매(애견동반 가능객실)': '4',
         '잉꼬(애견동반 가능객실)': '4',
         '국화(애견동반 가능객실)': '6',
         '목련(애견동반 가능객실)': '6',
         '장미(애견동반 가능객실)': '8',
         '수선화(애견동반 가능객실)': '8',
         '라일락(애견동반 가능객실)': '10',
         '원앙(애견동반 가능객실)': '8',
         '작은별': '10',
         '샛별': '10',
         '매화(애견동반 가능객실)': '12',
         '큰별': '14',
         '봉황(애견동반 가능객실)': '25',
         '로얄별': '35',
         '초코풀빌라1': '14',
         '초코풀빌라2': '12',
         '초코풀빌라3': '10',
         '초코풀빌라4': '10',
         '코코풀빌라1': '14',
         '코코풀빌라2': '8',
         '코코풀빌라3': '8',
         '코코풀빌라4': '6',
         '코코풀빌라5': '6',
         '코코풀빌라6': '6',
         '샤샤풀빌라1': '15',
         '샤샤풀빌라2': '8',
         '샤샤풀빌라3': '8',
         '샤샤풀빌라4': '8',
         '샤샤풀빌라5': '8',
         '샤샤풀빌라6': '6',
         'A-101': '10',
         'A-201': '4',
         'A-301': '5',
         'B-101': '10',
         'B-201': '4',
         'B-301': '5',
         '9동': '12',
         '10동': '12',
         '쿠키방': '12',
         '마린방': '12',
         '스타방': '12',
         '스위트방': '12',
         '아이스크림방': '12',
         '로켓방': '8',
         '포레방': '8',
         '산호방': '8',
         '정글방': '8',
         '레드밀방': '8',
         '옐로우핑크방': '8',
         '서핑방': '6',
         '도넛방': '6',
         '유니콘방': '6',
         '당근방': '6',
         '원더풀 수영장카라반1(랜덤배정)': '6',
         '원더풀 수영장카라반2(랜덤배정)': '6',
         '원더풀 수영장카라반3(랜덤배정)': '6',
         '원더풀 수영장카라반4(랜덤배정)': '6',
         '원더풀 수영장카라반5(랜덤배정)': '6',
         '원더풀 일반카라반1(랜덤배정)': '6',
         '원더풀 일반카라반2(랜덤배정)': '6',
         '원더풀 일반카라반3(랜덤배정)': '6',
         '원더풀 일반카라반4(랜덤배정)': '6',
         '원더풀 일반카라반5(랜덤배정)': '6',
         '원더풀 글램핑1(랜덤배정)': '8',
         '원더풀 글램핑2(랜덤배정)': '8',
         'A 101호': '8',
         'A 201호': '12',
         'B 102호': '8',
         'B 103호': '5',
         'B 202호': '8',
         'B 203호': '5',
         '풀램 A타입': '5',
         '풀램 B타입': '5',
         '풀램 C타입': '5',
         '루나키즈바베큐1': '2',
         '루나키즈바베큐2': '2',
         '루나키즈바베큐3': '2',
         '키즈풀빌라 1호 (독채)': '20',
         '키즈풀빌라 2호': '12',
         '키즈풀빌라 3호': '12',
         '키즈풀빌라 4호': '12',
         '키즈풀빌라 5호': '12',
         '키즈풀빌라 6호 (독채)': '20',
         '해적선[침실3+화장실2] 오후3시입실오전11시퇴실': '16',
         '산호방[침실3+화장실2]   오후1시입실 오전10시퇴실': '14',
         '팩토리[침실2+화장실2]오후1시입실 오전10시퇴실': '12',
         '스위트홈[침실2+화장실2]오후3시 입실오전11시퇴실': '12',
         '핑크밀[침실2+화장실2]오후3시입실오전11시퇴실': '12',
         '쿠키방[침실2+화장실1]오후3시입실오전11시퇴실': '10',
         '롤러코스터[침실2+화장실1]오후3시입실오전11시퇴실': '10',
         '기차[침실2+화장실1]오후3시입실오전11시퇴실': '10',
         '아이스크림[침실2+화장실1]오후3시입실오전11시퇴실': '10',
         '애견동반독채삐삐풀램핑1(랜덤배정 평일특가 조식제공)': '6',
         '애견동반독채삐삐풀램핑2(랜덤배정 평일특가 조식제공)': '6',
         '독채삐삐풀램핑1(랜덤배정 평일특가 조식제공)': '6',
         '독채삐삐풀램핑2(랜덤배정 평일특가 조식제공)': '6',
         '독채삐삐풀램핑3(랜덤배정 평일특가 조식제공)': '6',
         '독채삐삐풀램핑4(랜덤배정 평일특가 조식제공)': '6',
         '독채삐삐풀램핑5(랜덤배정 평일특가 조식제공)': '6',
         '독채삐삐풀램핑6(랜덤배정 평일특가 조식제공)': '6',
         '삐삐바베큐': '2',
         '풀빌라디럭스': '2',
         '롯지캠프A': '6',
         '롯지캠프B': '6',
         '롯지캠프C': '4',
         '롯지캠프D': '4',
         '컨템포러리': '3',
         '노르딕 (애견가능)': '3',
         '레트로': '4',
         '다다오': '3',
         '파티오 (애견가능)': '3',
         '티파니 (애견가능)': '2',
         '오드리 (애견가능)': '2',
         'A101 (공룡)': '4',
         'A102(자동차)': '8',
         'A103(마린)': '8',
         'A201(아이스크림)': '8',
         'A202(캐슬)': '8',
         'B104(자동차)': '8',
         'B105(마린)': '8',
         'B106(공룡)': '4',
         'B203(아이스크림)': '8',
         'B204(캐슬)': '8',
         'A 101 (침실2 화장실2 실내수영장 스파)': '5',
         'A 201 (침실2 화장실2 실내수영장)': '4',
         'A 301 (침실2 화장실2 루프탑수영장 스파)': '5',
         'D 101 (침대1 실내수영장)': '4',
         'D 102 ( 침대1 실내수영장)': '4',
         'D 201 (침대1 실내수영장)': '3',
         'D 202 (침대1 실내수영장)': '3',
         'D301 (침대1 루프탑수영장)': '4',
         'D302 (침대1 루프탑수영장)': '4',
         '101호': '8',
         '102호': '5',
         '201호': '8',
         '202호': '12',
         '글램핑A': '5',
         '글램핑B': '5',
         '조이키즈룸': '8',
         '쿠키키즈룸': '5',
         '토이키즈룸': '8',
         '퍼피키즈룸': '5',
         '우디키즈룸': '5',
         '201 츠키 (POOL, 히노끼)': '5',
         '202 히카리 (자쿠지)': '4',
         '203 호시 (POOL, 히노끼)': '5',
         '301 (스파, 더블트윈)': '4',
         '401 (스파, 복층)': '4',
         '402 (스파, 복층)': '4',
         '101 (더블)': '2',
         'C 럭셔리 일반 (오션뷰)': '5',
         'E 럭셔리 감성 (오션뷰)': '3',
         'A 럭셔리 일반 (오션뷰)': '5',
         'D 럭셔리 스파 (오션뷰)': '3',
         'B 럭셔리 일반 (오션뷰)': '5'}
        platform_dic = {'네이버': 0, '떠나요': 1}

        name_dic = {'더원풀빌라': 0,
         '루나키즈풀빌라': 1,
         '바오키즈풀빌라': 2,
         '뷰델카라반펜션': 3,
         '빵빵키즈풀빌라': 4,
         '삐삐키즈풀빌라&카라반글램핑': 5,
         '솜솜키즈풀빌라': 6,
         '신영펜션': 7,
         '원더풀글램핑앤카라반': 8,
         '이오스풀빌라AD': 9,
         '조이키즈풀빌라': 10,
         '초코키즈풀빌라': 11,
         '츠키노야료칸풀빌라': 12,
         '키즈포레풀빌라': 13,
         '평창리버힐': 14,
         '화이트스톤풀빌라': 15}
         
        address_dic = {'강원 평창군': 0,
         '강원 홍천군': 1,
         '경기 가평군': 2,
         '경기 안산시': 3,
         '경기 포천시': 4,
         '경남 거제시': 5,
         '경남 밀양시': 6,
         '경북 경주시': 7}
        weight = {
         '개별바베큐': 10,
         '침대방': 15,
         '독채': 15,
         '오션뷰': 10,
         '월풀/스파': 20,
         '풀빌라': 20,
         '얼리 체크인': 5,
         '레이트 체크아웃': 5}   
        model = pickle.load(f)
        dicted = dict(item)
        
        platform = dicted['platform']
        name = dicted['name']
        address = dicted['address']
        room = dicted['room']
        checkIn = dicted['checkIn']
        checkOut = dicted['checkOut']

        df = pd.DataFrame({'platform':[platform], 'name':[name], 'address':[address], 'room':[room], 'checkIn':[checkIn], 'checkOut':[checkOut]})
        df['checkIn'] = pd.to_datetime(df['checkIn'])
        df['checkOut'] = pd.to_datetime(df['checkOut'])
        df['week'] = ((df['checkIn'].dt.dayofweek >= 5) | (df['checkOut'].dt.dayofweek >= 5)).astype(int)
        df['saturday'] = (df['checkOut'].dt.dayofweek == 5).astype(int)
        day = df['checkOut'] - df['checkIn']
        df['days'] = day.dt.days+1
        df['month'] = df['checkIn'].dt.month
        df['maxPerson'] = count[df['room'][0]]
        df['roomDetail'] = detail[df['room'][0]]
        df['roomDetail'] = sum([ weight[j] for j in df['roomDetail'][0].split(',') if j in weight])
        df['address'] = ' '.join(df['address'][0].split()[:2]) 
        df['address'] = address_dic[df['address'][0]]
        df['platform'] = platform_dic[df['platform'][0]]
        df['name'] = name_dic[df['name'][0]]
        df = df[['platform','name','address','maxPerson','week','saturday','days','month','roomDetail']]

        pred = model.predict(df)

        result = {"predict_result": int(pred[0])} 
        print("=======예측결과 =======>", result)

    return JSONResponse(result)


if __name__ == '__main__' :
    uvicorn.run(app, host="127.0.0.1", port=8000)